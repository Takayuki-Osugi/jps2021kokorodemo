---
sort: 3 #サイドバーの順番
---

# 調査の作成

## lab.jsで調査を作成するメリット

　無料で調査を作成する場合，Google formやMicrosoft formsも良いツールですが，lab.jsで作成するメリットがいくつかあります。おそらく，Google formやMicrosoft formsでも実装されていたり，スクリプトを書いたり，工夫すれば実装できるものもあるかと思いますが，lab.jsでの質問紙実施のメリットをまとめておきます。

- 尺度単位の実施順のランダマイズ化
- 尺度内の質問項目単位でのランダマイズ化（一部のみ）
- 回答による条件分岐
- 質問紙と実験を統合して実施可能（lab.jsのみで完結）
- 時間制限などの設定が容易
- HTML・CSSでのカスタマイズが可能

## テキスト入力項目の作成
　lab.js Buliderを開いてください。開いたら，「＋」から「HTML Page」を選んでください。
「HTML Page」では様々なフォームを作成することができます。フォームにはテキスト入力ボックスや多肢選択ボタンが含まれるので，性別，年齢，同意取得，質問紙などに利用できます。まず，実験・調査の説明文章を作成したいと思います。まず，Pageのタイトルを「informedConsent」に変更しておきましょう（名前は何でもOK）。続いて，Textの中に実験・調査に関する情報を入力していきます。Pageについては，[2-2. ストループ課題を作ってみよう](https://www.notion.so/8c792f7ac239430c829fa5204411f55b)も参考にしてください。

では，作成していきましょう。Builderを起動し，サイドバーからPageを追加して下さい。PageのContent内の「＋」をクリックし，Single-lineまたはMulti-lineを選ぶとテキスト入力のフォームが追加されます。Single lineは1行，Multi-lineは複数行のテキスト入力が可能です。詳細設定で色々な設定を変更できます（Data typeはSingle-ineのみ）。今回は，Single-lineの例として年齢を問う項目，Multi-lineの測定として問題があったかを問う項目を作成してみます。

### 詳細設定

　歯車マークをクリックすると，詳細設定が表示され，以下の点を変更できます。

- Data type（Single-lineのみ）
入力内容の種類を指定したい場合に設定します。Textでは特に設定できませんが，Numberにすると数値の範囲や刻みの指定，E-mailにするとメールアドレスかを判定，Dateにすると日付の範囲の指定が可能です。
- Help & Instructions
質問項目に対する補足説明を行いたい場合などに入力します。
- Name
データとして記録される質問項目の名前です。デフォルトは質問項目からNameを生成してくれますが，2バイト文字だけだとエラーになるので，できるだけ，半角英数でNameを入力しておきましょう。
- Validation
Require answerにチェックを入れると回答（入力）を必須化できます。

### 作例1. デモグラフィック変数を測定する質問項目の作成

　年齢，性別などのデモグラフィック変数を測定する質問項目を作成します。今回は「年齢」を問う質問項目を作ります。以下の手順で行ってみましょう。大学生を対象とするため，18〜99までの数値に入力できる値を限定します。

1. サイドバーの「＋」から「Page」を追加
2. タイトルを「Page」から「Demographic」に変更
3. 「Page」のContentの「＋」から，Single-lineを追加
4. 「Question」に「年齢」と入力
5. 「Question」の右の歯車マークをクリックし，詳細設定を表示
6. 「Data type」をNumberに変更
7. 「Data type」の下にある「↓」（No lower limit）の欄に「18」，「↑」（No upper limit）の欄に「99」と入力し，数値の範囲を指定
8. Help & further instructionsに「年齢を半角数字で入力してください」と入力
9. 「Name」に「Age」と入力（プログラムエラー防止に半角英数でNameを指定することを推奨）
10. 「Validation」にチェック（回答必須にする場合）
11. 「Continue→」を「次へ」に変更

　ここまでで以下の画面のようになります。確認してください。

### 作例2. 自由記述を測定する質問項目の作成

　次に自由記述を測定する質問項目を作成してみます。今回は，調査・実験後に調査・実験に関して問題があったかどうかを問う質問項目を作成します。

1. サイドバーの「＋」から「Page」を追加
2. 「Page」のContentの「＋」から，Multi-lineを追加
3. タイトルを「Page」から「ErrorReport」に変更
4. 「Question」に「調査・実験時の問題」と入力
5. 「Question」の右の歯車マークをクリックし，詳細設定を表示
6. Help & further instructionsに「調査・実験の際に問題があった方は内容をご入力ください。問題がなかった方は空欄のままでけっこうです。」と入力
7. 「Name」に「ErrorReport」と入力（プログラムエラー防止に半角英数でNameを指定することを推奨）
8. 「Validation」のチェックを外す（回答にする場合）
9. 「Continue→」を「次へ」に変更

　ここまでで以下の画面のようになります。確認してください。

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/eedc494f-90cb-44e0-9c59-db3b03295f85/_2020-05-13_16.32.53.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/eedc494f-90cb-44e0-9c59-db3b03295f85/_2020-05-13_16.32.53.png)

## 多肢選択項目（multiple choice）

　多肢選択は質問項目を呈示し，その回答として，いくつかの選択肢の中から1つを選択してもらうという形式です。リッカート形式と並んで，多く用いられる形式でしょう。デモでは，「猫がどの程度好きか」を5件法（1〜5）で問う多肢選択式の質問項目を作成します。以下のような手順で作成してみてください。

1. サイドバーの「＋」から「Page」を追加
2. 「Page」の名前を「Questionnaire」に変更（名前は何でもOK）
3. 「Content」にすでに教示用のテキストを打ち込む画面が表示されているので，Textに以下のような教示文を記入（Titleは空欄のままでOK）
    - 「以下の質問文を読んでいただき，あたなにもっとも当てはまると思う選択肢を選んで回答してください。回答は選択肢のボタンをチェックすることで行ってください。」
4. 次にContent内の「＋」（Continue→の上）をクリックし，表示されるメニュー（下の図）から「Multiple choice」を選ぶ

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2aa339a8-34b0-401e-bb02-1b458b61eb2d/_2020-04-24_16.26.50.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2aa339a8-34b0-401e-bb02-1b458b61eb2d/_2020-04-24_16.26.50.png)

5. 追加されたMultiple choiceの「Question」に「1. あなたは猫についてどのように感じていますか？」を入力
（質問文に1バイト文字が含まれてない場合はNameを設定しないとエラーが生じます; 詳しくは下記のボックス参照）
6. labelには「1. 非常に嫌い」，codingには「1」を入力
各選択肢（label）を選んだ時，codingに入力された値がデータとして保存されます
7. 1つのlabelとcodingに入力すると下に新しい選択肢の入力欄が表示されるので，以下の画像のようになるまで入力してください（今回は5件法）

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6ebd146e-0cb4-4137-b004-89d094a1129e/_2020-04-24_16.31.50.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6ebd146e-0cb4-4137-b004-89d094a1129e/_2020-04-24_16.31.50.png)

8. 最下部の「Continue→」を「次へ」に書き換える
9. ここまでできたら，動かしてみてください。以下のような画面が表示されていれば完成！

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/03de567b-0980-446c-bc48-b67a57248ffd/_2020-04-24_16.32.55.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/03de567b-0980-446c-bc48-b67a57248ffd/_2020-04-24_16.32.55.png)

```danger
#### マルチバイト文字（日本語）の使用に伴うエラーに注意！
質問項目がすべてマルチバイト文字（日本語）の場合（1バイト文字が含まれていない場合）に選択肢を複数選択できてしまうというエラーが生じたり，データ出力時に一部の列名が空白になるという問題が生じます。「Name」の設定が原因となっていて，Nameにマルチバイト文字が含まれるとこのようなエラーが生じてしまいます。Nameは空欄だと，質問項目文に基づく自動生成となるため，質問項目が日本語のみで構成される場合に問題がおきます。以下の対策で対応してください。

 * 詳細設定（歯車をクリック）を表示し，「Name」に質問項目の名前を **半角英数字** で指定
```

### 詳細設定でできること

　質問項目横の歯車マーク⚙️を押すと，詳細設定が表示されます。できる設定は以下の通りです。中でも，Help & further instructionsは利用する機会が多いかもしれません。

- Displayの中の Shuffle items
チェックすると，選択肢の順番をランダム化（質問項目ではないので注意）
- Help & further instructions
追加説明や補足を記入したい場合はここに入力
- Name
データに保存される質問項目の名前を指定
- Validationの中のRequire answer
回答を必須にする（回答していないと注意が表示され，次に進まない）


```tip
#### 質問項目の順番や尺度の実施順をランダムにしたい場合（GUI編）

調査において質問項目や尺度の実施順による影響（順序効果）を減らした場合は，質問項目の実施順や尺度の実施順をランダムにする方法が有効です。GUIでの質問項目のランダム化と尺度のランダム化の方法は以下のページをご覧ください。GUIの場合，質問項目をランダム化する場合，1ページにつき1項目になります。

[質問項目・尺度のランダム化](https://labjs.yucis.net/ef335a25730a4c179fddca534d3959b2)

質問項目の順番をランダム化はScriptsでの調査を作成することでも可能です。この方法だと，1ページ内に複数の質問項目を表示することができます（ただし，同じ種類のみ）。詳細は以下をご覧ください。

[質問紙（Scriptsで多肢選択式）](https://labjs.yucis.net/Scripts-2abebf7cb25b4786aca9fbdddfece9fa)
```