---
sort: 4 #サイドバーの順番
---

# プログラムの保存

lab.js Builderには大きく分けて2種類の保存方法があります。1つ目がJSON形式での保存，2つ目がzip形式での保存です（オンライン実験用の保存方法もありますが，ここでは割愛）。それぞれの違いを以下の通りです。

1. JSON形式での保存
プログラム作成途中にプログラムを保存したい場合やプログラム作成後にプログラムを修正できる形で保存したい場合には，こちらで保存する。画像などのプログラムに組み込んだファイルも1つのJSONファイルに自動的に含まれる（カプセル化）。この形式で保存した場合，lab.js Builderで読み込まないと実験・調査としては動作しない。

2. Zip形式での保存（Offline data collection）
実際に実験・調査を行うために保存する。この形式で保存した場合，フォルダに含まれるindex.htmlを開くことで実験・調査を行うことができる。主にオフラインでの実施を想定した保存方法。

1のJSON形式で保存すれば，保存したJSONファイルをlab.js Buliderで読み込むことで，2のZip形式での保存を行うことができます。では，まず，JSON形式で保存してみましょう。

## JSON形式での保存（Save）

　サイドバーの上にあるフロッピーディスクのアイコン💾をクリックしてください。そうすると，「study-yyyy-mm-dd—hh_mm.study.json」という形式のファイルを保存することができます（yyyyには作成年，mm-ddには作成月日，hh_mmには作成時間が入ります）。例えば，「study-2020-05-08—12_40.study.json」という名前のファイルになります。このファイルを任意の場所に保存してください。次からは，このファイルをlab.js Builderで読み込めば，ここまでで作成したプログラムを再び開くことができます。

　では，実際に，保存したJSONファイルを読み込んでみましょう。プログラムの新規作成するために，lab.js Builderのサイドバーのフロッピーディスクアイコンの横の▼を押してください。そうすると，以下のメニューが表示されるので，その中から，「New」をクリックしてください。

　「New」をクリックすると，新しいプログラムを作成するかどうかの確認として「Are you sure you want to reset the study?」というアラートが表示されるので，コードをファイル保存した後に「OK」を選んでください。そうすると，lab.js Buliderがリセットされます。続いて，先ほど，保存したファイルを読み込んでみましょう。プログラムの新規作成を行った時と同じようにサイドバー上の▼をクリックしてください。その中から，「Open」を選びます。コンピュータ内のファイルを選択するウィンドウが表示されるので，先ほど保存したJSONファイルを選び，開いてください。先ほど保存したプログラムが再び表示されたかと思います。このように，SaveとOpenを行うことでプログラム作成途中の保存が可能です。

**定期的に保存しよう**

lab.js Buliderは，プログラムを保存しなくてもCookieという仕組みでユーザー情報を一時的に保存しているため，lab.js Buliderを再度起動した場合にそれまで開いていたプログラムが表示されます（進行状況が保存される）。しかし，Cookieによる情報保存は一時的なものであるため，過信してはいけません。例えば，Cookieはブラウザ・コンピュータ単位で保存されるため，自宅のコンピュータで作成途中のまま保存しなかったプログラムは，大学のコンピュータでlab.js Buliderにアクセスしても表示されません。作成途中はできるだけ定期的にJSON形式で保存するようにしましょう。

　自身で作成していないlab.js Buliderで作成されたプログラムも，JSON形式で提供されていれば，読み込むことが可能です。

## Zip形式での保存（Offline data collection）

　次に，保存したコンピュータでlab.js Buliderで作成したプログラムを実行するための保存方法を紹介します。この方法で保存することで，保存したコンピュータで作成したプログラムを実行できます。今回は，インターネットに繋がっていなくてもプログラムが動く設定（Export for local use）で保存してみましょう。これまでと同様に，フロッピーディスクアイコンの横の▼を選び，「Offline data collection」を選んでください。そうすると，「study-export.zip」という名前でファイルを保存することができるので，任意の場所に保存してください。ファイル名はわかりやすい名前に変更しておいた方がいいでしょう。

　コンピュータで作成したプログラムを実行する場合には，zipを解凍（すべて展開）したフォルダの中にある「index.HTML」を開いてみてください。先ほど作成した「Hello, world!」が10秒表示されるプログラムが起動したはずです。実験室などの対面実験を行う場合にはこの方法で保存しましょう。
